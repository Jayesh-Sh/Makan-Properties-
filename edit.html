<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EditProperties</title>
    <link rel="stylesheet" href="./home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<style>
    body{
        background-color: lightcyan;
    }
    .hh {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 10px;
    }

    .card {
        margin: 5px;
        border: none;
        border-radius: 10px;

    }

  

    .add {
        font-weight: bolder;
    }
    .bt:hover {
        transition: 0.5s ease;
        -webkit-transform: scale(1.1);
        background: #31708f;
    }
</style>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand ms-4" href="#"><img src="img/p.png" alt=""></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto ">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="home.html">Home</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Properties
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="addpro.html">ADD Properties</a></li>
                            <li><a class="dropdown-item" href="edit.html">Edit Properties</a></li>
                            <li><a class="dropdown-item" href="#">All Properties</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Login/Signup
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="login.html">Login</a></li>
                            <li><a class="dropdown-item" href="index.html">Signup</a></li>
                        </ul>
                    </li>
                    <li class="nav-item me-4">
                        <a class="nav-link active" aria-current="page" href="profile.html">Profile</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    

    <div class="hh">
        <!-- <div class="card " style="width: 18rem;">
            <img src="img/h1.jpg" class="card-img-top bt" alt="...">
            <div class="card-body">
                <h5 class="card-title">Andhra Pradesh</h5>
                <p class="card-text"><span class="add">Contact Address:</span> Postmaster, Post Office VELAGAPUDI
                    (BRANCH OFFICE), GUNTUR, ANDHRA
                    PRADESH (AP), India (IN), Pin Code:- 522503</p>
                <a href="editPage.html" class="btn btn-primary">Edit</a>
                <a href="#" class="btn btn-primary  bg-success bt">Delete</a>
            </div>
        </div>  -->
        <div class="container">
            <div class="row" id="show">

            </div>
         </div>


        <!-- <div class="card" style="width: 18rem;">
            <img src="img/h3.jpg" class="card-img-top bt" alt="...">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-text"><span class="add">Contact Address:</span> Postmaster, Post Office VELAGAPUDI
                    (BRANCH OFFICE), GUNTUR, ANDHRA
                    PRADESH (AP), India (IN), Pin Code:- 522503</p>
                <a href="editPage.html" class="btn btn-primary">Edit</a>
                <a href="#" class="btn btn-primary  bg-success bt">Delete</a>
            </div>
        </div>
        <div class="card" style="width: 18rem;">
            <img src="img/h1.jpg" class="card-img-top bt" alt="...">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-text"><span class="add">Contact Address:</span> Postmaster, Post Office VELAGAPUDI
                    (BRANCH OFFICE), GUNTUR, ANDHRA
                    PRADESH (AP), India (IN), Pin Code:- 522503</p>
                <a href="editPage.html" class="btn btn-primary">Edit</a>
                <a href="#" class="btn btn-primary  bg-success bt">Delete</a>
            </div>
        </div> -->
        
    </div>

    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Edit Properties</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>


                <div class="card">
                    <form class="row m-1 mt-3 mb-3">
                        <div class="col-md-4">
                            <label for="inputEmail4" class="form-label">F_Name</label>
                            <input type="text" class="form-control" id="fname" placeholder="First Name">
                        </div>
                        <div class="col-md-4">
                            <label for="inputPassword4" class="form-label">M_Name</label>
                            <input type="text" class="form-control" id="mname" placeholder="Middel Name">
                        </div>
                        <div class="col-md-4">
                            <label for="inputPassword4" class="form-label">L_Name</label>
                            <input type="text" class="form-control" id="lname" placeholder="Last Name">
                        </div>
                        <div class="col-4">
                            <label for="inputAddress" class="form-label">Address</label>
                            <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                        </div>
                        <div class="col-4">
                            <label for="inputAddress2" class="form-label">Address 2</label>
                            <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                        </div>
                        <div class="col-4">
                            <label for="inputAddress" class="form-label">M_Number</label>
                            <input type="mobile" class="form-control" id="mnumber" placeholder="+91">
                        </div>
                        <div class="col-md-3">
                            <label for="inputCity" class="form-label">City</label>
                            <input type="text" class="form-control" id="inputCity">
                        </div>
                        <div class="col-md-3">
                            <label for="inputState" class="form-label">State</label>
                            <select id="ss" class="form-select">
                                <option selected>Choose</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                <option value="Assam">Assam</option>
                                <option value="Bihar">Bihar</option>
                                <option value="Chandigarh">Chandigarh</option>
                                <option value="Chhattisgarh">Chhattisgarh</option>
                                <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                <option value="Daman and Diu">Daman and Diu</option>
                                <option value="Delhi">Delhi</option>
                                <option value="Lakshadweep">Lakshadweep</option>
                                <option value="Puducherry">Puducherry</option>
                                <option value="Goa">Goa</option>
                                <option value="Gujarat">Gujarat</option>
                                <option value="Haryana">Haryana</option>
                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                <option value="Jharkhand">Jharkhand</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Kerala">Kerala</option>
                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Manipur">Manipur</option>
                                <option value="Meghalaya">Meghalaya</option>
                                <option value="Mizoram">Mizoram</option>
                                <option value="Nagaland">Nagaland</option>
                                <option value="Odisha">Odisha</option>
                                <option value="Punjab">Punjab</option>
                                <option value="Rajasthan">Rajasthan</option>
                                <option value="Sikkim">Sikkim</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Telangana">Telangana</option>
                                <option value="Tripura">Tripura</option>
                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                <option value="Uttarakhand">Uttarakhand</option>
                                <option value="West Bengal">West Bengal</option>
                                </select>
                        </div>
                        <div class="col-md-2">
                            <label for="inputZip" class="form-label">Zip</label>
                            <input type="text" class="form-control" id="inputZip">
                        </div>
                        <div class="col-md-4">
                            <label for="formFile" class="form-label">Image link</label>
                            <input class="form-control" type="link" id="formFile">
                        </div>
            
                    </form>
                </div> 

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="editData()">Update</button>
                </div>

            </div>
        </div>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

    <script>
        function showData(){
        let data = JSON.parse(localStorage.getItem("addProperties")) || [];
        console.log(data);
        card =''
        data.forEach((element, index) => {
            card +=
            ` 
            <div class="card " style="width: 18rem; ">
                   <img src="${element.image}">
            <div class="card-body">
            <h5 class="card-title ">State - ${element.state}</h5>
              <p class="card-text m-0"><h6>Contact Address: ${element.add} ${element.add2} ${element.city} Zipcode- ${element.zipcode}</h6></p>
              <p class="card-text m-0">M_number :- ${element.number}</p>
              <p class="card-text m-0"><b>${element.f_name} ${element.l_name}</b></p>
              <button class="btn btn-primary mt-2 " onclick="edit(${index})" data-bs-toggle="modal" data-bs-target="#myModal">Edit</button>
                 <button class="btn btn-primary bg-success bt mt-2 ms-2" onclick="hellodel(${index})">Delete</button>
               </div>
               </div>
              `   
        });
        document.getElementById("show").innerHTML = card;
    }

    
    function hellodel(delindex){
        let data = JSON.parse(localStorage.getItem('addProperties')) || [];
        console.log(data)
        let result = data.filter((element, index) => {
            return delindex != index;
        });
        console.log(result)
        localStorage.setItem('addProperties',JSON.stringify(result));
        showData()
    }
    

    let store="";

    function edit(editting){

        store = editting;
        let data = JSON.parse(localStorage.getItem('addProperties')) || [];

        let result = data.filter((element, index) => {
            return editting == index;
        });
        console.log(result)

        document.getElementById("fname").value = result[0].f_name;
        document.getElementById('mname').value = result[0].m_name;
        document.getElementById('lname').value= result[0].l_name;
        document.getElementById('inputAddress').value = result[0].add;
        document.getElementById('inputAddress2').value = result[0].add2;
        document.getElementById('mnumber').value = result[0].number;
        document.getElementById('inputCity').value = result[0].city;
        document.getElementById('ss').value = result[0].state;
        document.getElementById('inputZip').value = result[0].zipcode;
        document.getElementById("formFile").value = result[0].image;

    }

        function editData(){
            let data = JSON.parse(localStorage.getItem('addProperties')) || [];
            console.log(data)

        let name = document.getElementById("fname").value
        let mname = document.getElementById('mname').value 
        let lname = document.getElementById('lname').value 
        let add = document.getElementById('inputAddress').value
        let add1 = document.getElementById('inputAddress2').value
        let num = document.getElementById('mnumber').value
        let city = document.getElementById('inputCity').value
        let stss = document.getElementById('ss').value 
        let zcode = document.getElementById('inputZip').value
        let imgess = document.getElementById("formFile").value

        data[store].f_name = name;
        data[store].m_name = mname;
        data[store].l_name = lname;
        data[store].add = add;
        data[store].add2 = add1;
        data[store].number = num;
        data[store].city =city;
        data[store].state =stss;
        data[store].zipcode = zcode;
        data[store].image = imgess;
        console.log(data)

        localStorage.setItem('addProperties',JSON.stringify(data));
        alert("Successful")
        location.reload()
        }

        // localStorage.setItem('addProperties',JSON.stringify(result));
        // showData()


    showData();

  

 
// let a = [{
//     name : 'John',E
// },
// {
//     name:'Doe',
// }]
// a[1].name = "fghb";
// console.log(a)

    </script>
</html>